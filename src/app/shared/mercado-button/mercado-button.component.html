<div class="dialog-container" fxLayout="column" ngStyle.gt-sm="width: 700px;">
    <div class="close-btn-outer" fxLayout="row" fxLayoutAlign="space-between center">
        <h2>Pagar con MercadoPago</h2>
        <button mat-mini-fab color="warn" (click)="close()">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div mat-dialog-content style="max-height: 80vh;">
        <div>*Se agregará una comisión del 4% por método de pago MercadoPago</div>
        <div fxShow="{{deliveryComission}}">*El total de tu cuenta es menor a $3,000.00 se agregará un cargo extra de $300.00 por envío </div>
        <div fxLayout="row wrap" style="margin-top: 20px;margin-bottom: 20px;">
            <div fxFlex="100" class="px-1">
                <mat-checkbox (change)="chageTerms($event)">Acepto terminos y condiciones</mat-checkbox>
                <a (click)="openDeliveryTermsDialog()" style="margin-left: 10px; cursor: pointer; text-decoration: underline blue; color: blue;">Consultalos aquí</a>
            </div>
        </div>
        <form *ngIf="clientForm" [formGroup]="clientForm">
            <div fxLayout="row wrap">
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Nombre(s)</mat-label>
                        <input matInput placeholder="Nombre(s)" formControlName="firstName" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.firstName.errors?.required">
                            Nombre es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.firstName.hasError('minlength')">
                            El nombre es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.firstName.hasError('pattern')">
                            Escribe en nombre válido
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Apellidos</mat-label>
                        <input matInput placeholder="Apellido" formControlName="lastName" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.lastName.errors?.required">Apellido es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.lastName.hasError('minlength')">
                            El apellido es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.lastName.hasError('pattern')">
                            Escribe un apellido válido
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Email</mat-label>
                        <input matInput placeholder="Email" formControlName="email" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.email.errors?.required">Correo electrónico es requerido</mat-error>
                        <mat-error *ngIf="clientForm.controls.email.hasError('invalidEmail')">El Correo electrónico es invalido</mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Teléfono (10 dígitos)</mat-label>
                        <input matInput placeholder="Teléfono" formControlName="phone" maxlength="10" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.phone.errors?.required">Teléfono es requerido</mat-error>
                        <mat-error *ngIf="clientForm.controls.phone.hasError('pattern')">
                            El teléfono es invalido, ingresa números
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.phone.hasError('minlength')">
                            El teléfono es muy corto, son 10 números
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Estado</mat-label>
                        <input matInput placeholder="Estado" formControlName="state" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.state.errors?.required">
                            Estado es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.state.hasError('minlength')">
                            El Estado es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.state.hasError('pattern')">
                            Escribe un Estado válido
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Ciudad</mat-label>
                        <input matInput placeholder="Ciudad" formControlName="city" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.city.errors?.required">Ciudad es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.city.hasError('minlength')">
                            La Ciudad es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.city.hasError('pattern')">
                            Escribe una Ciudad válida
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Código postal</mat-label>
                        <input matInput placeholder="Código postal" formControlName="zip" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.zip.errors?.required">
                            Código postal es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.zip.hasError('minlength')">
                            El Código postal es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.zip.hasError('pattern')">
                            Escribe un Código postal válido
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="50" fxFlex.lt-sm="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Colonia</mat-label>
                        <input matInput placeholder="Colonia" formControlName="suburb" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.suburb.errors?.required">Colonia es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.suburb.hasError('minlength')">
                            La Colonia es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.suburb.hasError('pattern')">
                            Escribe una Colonia válida
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxFlex="100" class="px-1">
                    <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Dirección</mat-label>
                        <input matInput placeholder="Dirección" formControlName="address" maxlength="50" required (keyup)="showButtonMercado()">
                        <mat-error *ngIf="clientForm.controls.address.errors?.required">Dirección es requerido
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.address.hasError('minlength')">
                            La Dirección es muy corto, mínimo 3 caracteres
                        </mat-error>
                        <mat-error *ngIf="clientForm.controls.address.hasError('pattern')">
                            Escribe una Dirección válida
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
        </form>
        <div class="py-1 text-muted" fxLayout="row" fxFlexAlign="end end">
            <div fxFlex="100">
                <div id="text-container">
                    <span fxShow="{{showButton}}">Por favor rellena todos los campos</span>
                    <br>
                    <span fxShow="{{terms}}">Acepta los terminos y condiciones</span>
                </div>
                <div fxHide="{{showButton || terms}}">
                    <div class="mat-cell text-right">
                        <a mat-raised-button class="bg-color-jd" (click)="generateLinkPayment()">Siguiente</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
